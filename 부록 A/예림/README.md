# 부록 A. 스프링 모듈

## A.1 스프링 모듈의 종류와 특징

### A.1.1 스프링 모듈 이름
- 스프링 모듈은 jar 확장자를 가진 파일이다.
- 모듈 이름은 다음과 같이 구성된다.


  <img width="339" alt="스크린샷 2024-11-05 오후 11 26 06" src="https://github.com/user-attachments/assets/5f9f8b54-d91d-46e0-a556-1b4cfa2425eb">

  
- 스프링 모듈은 OSGi 모듈 조건을 충족하는 OSGi 번들이기도 하다. 따라서 OSGi 플랫폼에 바로 가져다 사용할 수 있다.
- Maven의 명명 규칙을 따라 만들어진 스프링 모듈 파일도 있다.
  <img width="316" alt="스크린샷 2024-11-06 오전 10 02 32" src="https://github.com/user-attachments/assets/8afac767-9d87-4707-8c15-153a22656562">

### A.1.2 스프링 모듈 추가
- 스프링 모듈을 프로젝트에 추가하는 방법 2가지
  - 배포판에 포함된 모듈을 직접 추가하는 방법
  - Maven이나 Ivy의 의존 라이브러리 관리 기능을 이용해 모듈 리포지토리에서 자동으로 추가되게 하는 방법

#### 수동 추가
- 스프링 모듈을 얻을 수 있는 가장 손쉬운 방법은 스프링 배포판을 이용하는 것
- 배포판 압축 풀고 dist 폴더 열기

#### Maven / Ivy 자동 추가
- Maven 사용 시 pom.xml 파일의 의존 정보 설정만으로 필요한 모듈을 가져올 수 있음
- Ivy도 Maven과 동일한 리포지토리 사용

#### A.1.3 스프링 모듈 목록
- 스프링 모듈의 각 목록과 각 모듈의 OSGi 이름과 Maven 이름
  <img width="535" alt="스크린샷 2024-11-06 오전 10 10 02" src="https://github.com/user-attachments/assets/8e60a939-7449-4cf7-9382-741c00bf471e">
  <img width="535" alt="스크린샷 2024-11-06 오전 10 10 19" src="https://github.com/user-attachments/assets/f10d01fa-5b86-4045-9a78-a4a58b4ce24a">

## A.2 스프링 모듈의 의존관계
<img width="564" alt="스크린샷 2024-11-06 오전 10 10 50" src="https://github.com/user-attachments/assets/2475d650-ae69-44e0-8797-543390203430">
- 화살표는 모듈 사이의 필수 의존 관계

### A.2.1 모듈별 의존관계
각 모듈별로 의존하고 있는 모듈의 종류와 관련 기능을 살펴보자

#### ASM 모듈
- 엄밀히 말해 스프링 모듈이 아니라 클래스 바이트 코드 조작 및 분석 프레임워크인 ASM을 재패키징한 모듈
- 다른 프레임워크와 라이브러리에도 사용
- 다른 버전의 ASM을 사용하는 경우가 있어 의존 관계에 문제가 생기기도 함
- 그래서 충돌 방지를 위해 스프링이 사용하는 버전의 ASM을 org.springframework.asm 패키지로 재패캐징해서 독립적인 모듈로 제공
- ASM 모듈이 의존하는 다른 모듈은 없음
- 모든 스프링 프레임워크에서 필요로 하는 필수 모듈

#### Core 모듈
- 대부분의 스프링의 모듈에서 필요로 하는 공통 기능을 갖고 있는 핵심 모듈
- 스프링이 사용하는 주요 타입, 애너테이션, 컨버터, 상수, 유틸리티 클래스 등을 제공
- 필수 라이브러리는 없음. 클래스 메타정보를 읽는 기능에서 선택적으로 ASM에 의존
- 반드시 모든 스프링 프로젝트에 포함시켜야 함

#### Beans 모듈
- 스프링 DI 기능의 핵심인 빈 팩토리와 DI 기능을 제공하는 모듈
- ASM, Core 두 개의 필수 의존모듈을 가짐

#### AOP 모듈
- 스프링의 프록시 AOP 기능을 제공하는 모듈
- 스프링의 AOP는 DI에 기반을 두므로 AOP 모듈은 Beans에 의존
- 물론 전이적 의존 관계에 따라서 Beans가 의존하는 ASM과 Core에도 의존

#### Expression 모듈
- 스프링 표현식 언어(SpEL) 기능 기원
- Core 모듈에만 의존


#### Context 모듈
- 애플리케이션 컨텍스트를 만드는 데 필요한 대부분의 기능 포함
- 애플리케이션 컨테어너로서 주요한 기능을 담고 있음
- 본격적인 엔터프라이즈 애플리케이션 프레임워크로 사용하기 위해 반드시 필요한 모듈
- AOP와 그 상위 의존 모듈 필요
- Expression도 필요

#### Context.Support 모듈
- 경우에 따라 애플리케이션 컨텍스트에서 필요로 하는 부가기능을 담은 모듈
- 스프링 MVC가 의존
- 기본적으로 Context 모듈에 의존

#### Transaction 모듈
- 스프링의 데이터 액세스 추상화의 공통 기능을 담고 있는 모듈
- 스프링의 데이터 액세스 기술을 사용하는데 반드시 필요
- 필수 의존 모듈은 Context

#### JDBC 모듈
- JDBC 템플릿을 포함한 JDBC 지원 기능을 가진 모듈
- JDBC 지원 오브젝트 외에도 스프링이 직접 제공하는 DataSource 구현 클래스들이 제공됨
- Transaction 모듈에 의존

#### ORM 모듈
- 하이버네이트, JPA, JDO, iBatis와 같은 ORM에 대한 스프링의 지원 기능을 갖고 있는 모듈
- JDBC에 의존

#### Web 모듈
- 스프링 웹 기술의 공통적인 기능을 정의한 모듈
- 필수 의존 모듈은 Context


#### Web.Servlet 모듈
- 스프링 MVC 기능 제공
- 필수의존 모듈은 Web과 Context.Support

#### Web.Portlet 모듈
- Portlet 개발에 사용
- 필수 의존 모듈은 Web.Servlet

#### Web.Struts 모듈
- 스트럿츠 1.x를 지원하는 모듈
- Web.Struts는 Web 모듈에만 의존

#### JMS 모듈
- JMS는 스프링의 JMS 지원 기능을 사용할 떄 필요한 모듈
- Transaction 모듈에 의존

#### Aspects 모듈
- AspectJ AOP 기능을 사용할 때 필요
- 필수 의존 모듈은 없음

#### Instrument 모듈
- 스프링의 로드 타임 위버(LTW) 기능을 적용할 떄 필요한 모듈
- 의존 모듈 없음

#### Instrument.Tomcat 모듈
- 애플리케이션이 아니라 톰캣 서버의 클래스 로더로 사용하는 모듈
- 의존 모듈 없음

#### Test 모듈
- 스프링의 테스트 지원 기능
