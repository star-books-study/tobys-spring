# 8장. 스프링이란 무엇인가?
- 스프링은 기본적으로 IoC 와 DI 를 위한 컨테이너로서 동작하지만 그렇다고 "스프링은 단지 IoC/DI 프레임워크다" 라고는 말할 수 없다

## 8.1. 스프링의 정의
- 스프링이란? 
  - 자바 엔터프라이즈 개발을 편하게 해주는, 오픈소스, 경량급, 애플리케이션 프레임워크
#### 애플리케이션 프레임워크
- 일반적으로 라이브러리나 프레임워크는 특정 업무 분야나 1가지 기술에 특화된 목표를 갖고 만들어진다.
  - ex) 웹 계층을 MVC 구조로 만들 수 있게 한다거나, 애플리케이션 로그 기능을 제공하거나, 관계형 DB 와 자바 오브젝트를 매핑해주는 ORM 기술 제공 등
  - 프레임워크는 **애플리케이션 특정 계층에서 주로 동작하는 1가지 기술 분야에 집중**된다
  - 하지만 스프링은 이와 달리 `애플리케이션 프레임워크` 라는 특징을 갖는다
- 애플리케이션 프레임워크 : 특정 계층, 기술, 업무 분야에 국한되지 않고 애플리케이션 전 과정을 빠르고 편리하며 효율적으로 진행하는 데 일차적인 목표를 두는 프레임워크
  - 단지 여러 계층의 다양한 기술을 한데 모아두었기 때문에 애플리케이션 프레임워크라고 불리는 건 아니다
  - **애플리케이션의 전 영역을 관통하는 일관된 프로그래밍 모델과 핵심 기술을 바탕으로 각 분야의 특성에 맞는 필요를 채워주고 있기 때문에, 애플리케이션을 빠르고 효과적으로 개발할 수 있다**
- 스프링의 일차적인 존재 목적 : **핵심 기술에 담긴 프로그래밍 모델을 일관되게 적용**해서, 엔터프라이즈 애플리케이션 **전 계층/영역에 전략과 기능을 제공**해줌으로써, **애플리케이션을 편리하게 개발**하게 해주는 애플리케이션 프레임워크

#### 경량급
- 스프링 자체가 아주 가볍다거나 작은 규모의 코드로 이루어졌다는 뜻은 아니다.
- **불필요하게 무겁지 않다**는 의미이다
- 가장 단순한 서버환경인 톰캣에서도 완벽하게 동작하며, 단순한 개발툴 / 기본적인 개발환경으로도 엔터프라이즈 개발을 하기에 충분하다
- 서블릿 컨테이너만으로 충분하니 고급 WAS 를 굳이 사용하지 않아도 된다
- 스프링을 기반으로 제작된 코드가 기존 EJB, 여타 프레임워크에서 동작하기 위해 만들어진 코드에 비해 상대적으로 작고 단순하다는 뜻이기도 하다
  - 코드에 불필요하게 등장하던, 프레임워크와 서버환경에 의존적인 부분을 제거해주기 때문에 스프링 기반의 코드가 가볍다
- **만들어진 코드가 지원하는 기술수준은 비슷하더라도, 그것을 빠르고 간편하게 작성하게 해줌으로써 생산성/품질 면에서 유리하다**는 것이 바로 경량급이라는 말로 표현되는 스프링의 특징이다

#### 자바 엔터프라이즈 개발을 편하게
- 편리한 애플리케이션 개발 : 개발자가 복잡하고 실수하기 쉬운 로우레벨 기술에 많은 신경을 쓰지 않으면서도 애플리케이션의 핵심인 사용자의 요구사항 (비즈니스 로직) 을 빠르고 효과적으로 구현하는 것
- 스프링은 EJB 가 궁극적으로 이루고자 했던 위의 목적을 제대로 실현해주엇다
  - 스프링 프레임워크가 제공하는 기술이 아닌, 자신이 작성하는 애플리케이션 로직에 더 많은 시간을 쏟게 해준다

#### 오픈소스
- 스프링은 오픈소스이기 때문에 수많은 버그, 이슈, 기술에 대해 누구나 참여하여 만들어나갈 수 있다. 
  - 공개된 커뮤니티에서 투명한 방식으로 다양한 참여를 통해 개발되기에 매우 빠르고 유연한 개발이 가능하다.
- 오픈소스 개발 방식의 가장 큰 취약점은 지속적이고 안정적인 개발이 계속될지 불확실하다는 것이다. 
  - 그래서 프레임워크 사용자에게 지속적 신뢰를 줄 수 있도록 개발을 책임지고 진행하는 전문 기업을 만들었다
- 스프링은 오픈소스의 장점을 충분히 취하며 오픈소스 제품의 단점과 한계를 작 극복하는 전문적이고 성공적인 오픈소스 소프트웨어라고 할 수 있다.

## 8.2. 스프링의 목적
- 어떤 기술이든 그 자체로는 도구에 불과하다.
  - **용도에 잘 맞게 활용하여 궁극적으로 이루고자 하는 목표를 이루는 것이 중요**하지, 도구의 사용법만 열심히 익히는 게 중요한 게 아니다.
- 자바의 근본적인 목적 : 객체지향 프로그래밍을 통해, 유연하고 확장성 좋은 애플리케이션을, 빠르게 만드는 것

### 8.2.1. 엔터프라이즈 개발의 복잡함
- 자바 엔터프라이즈 개발이 실패하는 대표적인 원인이 '엔터프라이즈 시스템 개발이 너무 복잡해져서' 였다

#### 복잡함의 근본적인 이유
1. 기술적인 제약조건과 요구사항이 늘어가기 때문
2. 엔터프라이즈 애플리케이션이 구현해야 할 핵심 기능인 비즈니스 로직의 복잡도가 증가하기 때문

#### 복잡함을 가중시키는 원인
- 엔터프라이즈 애플리케이션 개발이 실패하는 주요 원인
  - 비즈니스 로직의 복잡함
  - 기술적인 복잡함
- 하지만 각종 엔터프라이즈 기술 서비스를 적용하기 위한 코드, 각종 기술적인 API 의 호출 코드를 비즈니스 로직에 대한 구현코드와 함께 만드는 것은 매우 어렵다
  - 그럼에도 전통적인 자바 엔터프라이즈 개발 기법은 **대부분 비즈니스 로직의 복잡한 구현 코드, 엔터프라이즈 서비스를 이용하는 기술적인 코드가 혼재될 수밖에 없는 방식이었다**

### 8.2.2. 복잡함을 해결하려는 도전
#### 제거될 수 없는 근본적인 복잡함
- 엔터프라이즈 개발의 근본적인 복잡함의 원인은 제거할 대상이 아니다
- 대신 그 **복잡함을 효과적으로 상대할 수 있는 전략과 기법이 필요하다**
- 문제는 비즈니스 로직의 복잡함을 효과적으로 다루기 위한 방법, 기술적인 복잡함을 효과적으로 처리하는 데 적용되는 방법이 다르다는 점이다.
  - 따라서 가장 먼저 해야할 일은 성격이 다른 이 2가지 복잡함을 분리해내는 것이다

#### 실패한 해결책: EJB
- 개발자가 로우레벨의 기술적 복잡함에 신경쓰지 않고 비즈니스 로직을 효과적으로 개발하는 데 더 집중할 수 있게 하자는 목표가 있었지만, 결과적으로 목표 달성에 실패했다
- 애플리케이션 로직을 담은 핵심 코드에서 일부 기술적 코드가 제거된 건 사실이지만, 오히려 EJB 라는 환경과 스펙에 종속되는 코드로 만들어지게 되었다

#### 비침투적인 방식을 통한 효과적인 해결책: 스프링
- 침투적 기술 : EJB 처럼 어떤 기술을 적용했을 때 그 기술과 관련된 코드, 규약이 코드에 등장하는 경우
  - 꼭 필요한 기능을 사용해야 해서 특정 기술의 API를 이용하게 되는 건 어쩔 수 없다
- `비침투적 기술` : 기술의 적용 사실이 코드에 직접 반영되지 않는다
  - 어딘가에서는 기술 적용에 따른 필요한 작업이 들어가겠지만, **애플리케이션 코드 내에 불쑥 등장하거나, 코드 설계와 구현 방식은 제한하지 않는다는 것**이 특징이다 
- 스프링이 성공할 수 있었던 것은, 바로 비침투적 기술 전략을 택했기 때문이다
  - **근본적인 복잡함의 원인이 사라진건 아니지만, 성격이 다른 복잡함을 깔끔하게 분리해줬기에 각각을 효과적으로 상대할 수 있는 기반이 마련**되었다

### 8.2.3. 복잡함을 상대하는 스프링의 전략
- 스프링의 기본적인 전략 : 비즈니스 로직을 담은 애플리케이션 코드, 엔터프라이즈 기술을 처리하는 코드를 분리시키는 것

#### 기술적 복잡함을 상대하는 전략
- 첫번째 문제 : 기술에 대한 접근 방식이 일관성이 없고, 특정 환경에 종속적이다
  - 일관성 없는 기술과 서버 환경의 변화에 대한 스프링의 공략 방법은 `서비스 추상화` 이다.
  - 기술적 복잡함은 일단 추상화를 통해 **로우레벨의 기술 구현부분과 기술을 사용하는 인터페이스를 분리**하고, **환경과 세부 기술에 독립적인 접근 인터페이스를 제공**하는 것이 가장 좋은 해결책이다